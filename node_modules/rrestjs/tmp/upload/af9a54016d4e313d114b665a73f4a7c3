function $f(objName) {
    if (document.getElementById) {
        return document.getElementById(objName);
    }
    else if (document.layers) {
        return eval("document.layers['" + objName + "']");
    }
    else return eval('document.all.' + objName); 
}

function checkForm() {
    var valid = true;
    valid = TextBox_onBlur("LoginName");
    if (valid) {
        valid = TextBox_onBlur("loginnameB");
    }
    if (valid) {
        if (typeof ($("#txtFee").val()) != "undefined") {
            var fee = eval($("#txtFee").val());
            if (fee % 10 != 0) { 
                $("#txtFee").parent().find("span.sect_prompt_pro").html("*充值金额必须为10的倍数");
                valid = false;
            }
            else {
                $("#txtFee").parent().find("span.sect_prompt_pro").html("");
            }
        }
    }
    if (valid) {
        var areaServer = $("#sAreaServer option:selected").attr("value");
        if (areaServer == undefined || areaServer == "-1") {
            valid = false;
            $("#sAreaServer").parent().find("span.sect_prompt_pro").html("*游戏暂未开放充值");
        }
    }
    if (valid) {      
        var loginname = $("#LoginName").val();
        $.ajax({
            url: '/Account/ValidateExistsUser',
            type: 'POST',
            data: { 'LoginName': loginname },
            
            success: function (result) {
                var msg = result.Message;
                if (result.Result == false) {
                    $("#LoginName").parent().find("span.sect_prompt").html("");
                    $("#LoginName").parent().find("span.sect_prompt_pro").html(msg);
                    return false;
                }
                else {                  
                    $("#uid").val(msg);
                    $("#__form1").submit();
                }
            }
        });
    }  
}

//遮罩窗口
var TopDialog = {
    containerStyle: "",
    Show: function (title, url, width, height) {
        if (title) $("#PopupTitle")html(title);
        $("#PannelContainer").attr('class', TopDialog.containerStyle)
        if (width) {
            $("#DialogIframe").css('width', width + "px"); 
            $("#PannelContainer").css('width', (width+5) + "px");
        }
        if (height) $("#DialogIframe").css('height', height + "px");  
        if (url) $("#DialogIframe").attr('src', url);
        $("#popup_window2").show();
    },
    Close: function () {
        $f("popup_window2").style.display = "none";
        $f("DialogIframe").src = "/images/web/blank.gif";
    },
    ChangeForm: function (title, frameStyle, width, height) {
        if (title) $f("PopupTitle").innerHTML = title;
        if (frameStyle) $f("PannelContainer").className = frameStyle;
        if (width) {
            $f("DialogIframe").style.width = width + "px";
            $f("PannelContainer").style.width = (width + 5) + "px";
        }
        if (height) $f("DialogIframe").style.height = height + "px";
    }
}